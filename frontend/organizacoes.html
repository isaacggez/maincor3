<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>OrganizaÃ§Ãµes</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
<div class="container py-4">

  <h2>OrganizaÃ§Ãµes</h2>

  <!-- FORMULÃRIO NOVA ORGANIZAÃ‡ÃƒO -->
  <form id="form-nova-organizacao" class="mb-3 d-flex gap-2">
    <input type="text" name="nome" placeholder="Nome da organizaÃ§Ã£o" class="form-control" required>
    <textarea name="descricao" placeholder="DescriÃ§Ã£o (opcional)" class="form-control"></textarea>
    <button class="btn btn-primary">â• Criar</button>
  </form>

  <!-- LISTA ORGANIZAÃ‡Ã•ES -->
  <ul id="lista-organizacoes" class="list-group mb-4"></ul>

  <!-- SELECT ORGANIZAÃ‡ÃƒO -->
  <div class="mb-3">
    <label for="select-organizacao" class="form-label">Selecione uma organizaÃ§Ã£o:</label>
    <select id="select-organizacao" class="form-select"></select>
  </div>

  <hr>

  <h3>Salas</h3>

  <!-- FORMULÃRIO NOVO LOCAL -->
  <form id="form-novo-local" class="mb-3 d-flex gap-2">
    <input type="text" name="nome" placeholder="Nome da sala" class="form-control" required>
    <button class="btn btn-primary">â• Criar Sala</button>
  </form>

  <!-- LISTA LOCAIS -->
  <ul id="lista-locais" class="list-group mb-4"></ul>

  <!-- SELECT LOCAL -->
  <div class="mb-3">
    <label for="select-local" class="form-label">Selecione uma sala:</label>
    <select id="select-local" class="form-select"></select>
  </div>

  <hr>

  <h3>Equipamentos</h3>

  <!-- FORMULÃRIO NOVO EQUIPAMENTO -->
  <form id="form-novo-equipamento" class="mb-3 d-flex gap-2 align-items-center flex-wrap">
    <input id="equip-nome" name="nome" placeholder="Nome do equipamento" class="form-control" style="min-width:200px" required>
    <select id="equip-tipo" name="tipo" class="form-select" style="min-width:180px" required>
      <option value="computador">ğŸ–¥ï¸ Computador</option>
      <option value="notebook">ğŸ’» Notebook</option>
      <option value="celular">ğŸ“± Celular</option>
      <option value="tablet">ğŸ”² Tablet</option>
      <option value="outro">ğŸ”§ Outro</option>
    </select>
    <input id="equip-desc" name="descricao" placeholder="DescriÃ§Ã£o (obrigatÃ³ria)" class="form-control" style="min-width:220px" required>
    <select id="equip-status" name="status" class="form-select" style="min-width:150px">
      <option value="ativo">Ativo</option>
      <option value="em_manutencao">Em manutenÃ§Ã£o</option>
      <option value="inativo">Inativo</option>
    </select>
    <button type="submit" class="btn btn-primary">â• Criar Equipamento</button>
  </form>

  <!-- LISTA EQUIPAMENTOS -->
  <ul id="lista-equipamentos" class="list-group mb-4"></ul>

</div>

<!-- Bootstrap JS Bundle -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

<!-- API JS -->
<script src="js/api.js"></script>
<!-- Organizacao JS -->
<script src="js/organizacao.js"></script>

<!-- Painel lateral de membros (Ã  direita) -->
<div id="membros-panel" style="position:fixed; right:12px; top:80px; width:320px; max-height:70vh; overflow:auto; background:linear-gradient(180deg,#07112a,#041025); border:1px solid rgba(63,111,255,0.06); padding:12px; border-radius:10px; color:#e6eefb;">
  <div class="d-flex justify-content-between align-items-center mb-2">
    <strong>Membros</strong>
    <button class="btn btn-sm btn-outline-light" id="btn-reload-membros">ğŸ”„</button>
  </div>
  <div id="lista-membros">
    <!-- membros carregados via JS -->
  </div>
  <div class="mt-2 text-center">
    <small class="text-muted">Apenas administradores podem gerenciar cargos</small>
  </div>
</div>

<!-- Modal: Atribuir Cargo -->
<div class="modal fade" id="modalCargo" tabindex="-1">
  <div class="modal-dialog">
    <div class="modal-content bg-dark text-white">
      <div class="modal-header"><h5 class="modal-title">Atribuir Cargo</h5></div>
      <div class="modal-body">
        <input type="hidden" id="cargo-participacao-id">
        <div class="mb-3">
          <label class="form-label">Cargo</label>
          <select id="select-cargo" class="form-select">
            <option value="membro">Membro</option>
            <option value="tecnico">TÃ©cnico</option>
            <option value="administrador">Administrador</option>
          </select>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
        <button id="btn-salvar-cargo" class="btn btn-primary">Salvar</button>
      </div>
    </div>
  </div>
</div>

<!-- Modal: Enviar Mensagem -->
<div class="modal fade" id="modalMensagem" tabindex="-1">
  <div class="modal-dialog">
    <div class="modal-content bg-dark text-white">
      <div class="modal-header"><h5 class="modal-title">Enviar Mensagem</h5></div>
      <div class="modal-body">
        <input type="hidden" id="msg-destinatario">
        <div class="mb-3">
          <label class="form-label">Mensagem</label>
          <textarea id="msg-conteudo" class="form-control" rows="4"></textarea>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
        <button id="btn-enviar-msg" class="btn btn-primary">Enviar</button>
      </div>
    </div>
  </div>
</div>

</body>
</html>
